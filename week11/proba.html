<!DOCTYPE html>
<html>
<head>
	<title>Завдання 11 тижня</title>
</head>
<body>
	<canvas id="Canvas"></canvas>
	<script src="https://threejs.org/build/three.min.js"></script>
	<script src="https://raw.githack.com/mrdoob/three.js/dev/examples/js/loaders/OBJLoader.js"></script>
<script>
	
	function init() {
    scene = new THREE.Scene(); //створення сцени ("система")
    
    var WIDTH = window.innerWidth, HEIGHT = window.innerHeight;
    
    renderer = new THREE.WebGLRenderer({antialias: true}); //створення рендеру
    renderer.setSize(WIDTH, HEIGHT);  //масштабування холсту до розміру вікна
    
    document.body.appendChild(renderer.domElement);
    
    camera = new THREE.PerspectiveCamera(45, WIDTH/ HEIGHT, 0.1,20000); //кут огляду 45 гр., поле зору (0.1, 2000)
    camera.position.set(0, 6, 0); //підняти камеру
    scene.add(camera); //розміщення камери на сцені
    
    window.addEventListener('resize', function() { //обробник подій зміни розміру вікна
        var WIDTH = window.innerWidth, HEIGHT = window.innerHeight; //визначити розміру вікна
       // renderer.setSize(WIDTH, HEIGHT); //масштабування до нового розміру вікна
        camera.aspect = WIDTH / HEIGHT; //зміна співвідношення сторін
        camera.updateProjectMatrix(); 
    });
    
    renderer.setClearColor(0xffb6c1, 1); //встановити колір фону холсту
 
    
    var loader = new THREE.TextureLoader();
var lightOne = new THREE.AmbientLight(0xfffff, 0.5);
	scene.add(lightOne);

	var lightTwo=new THREE.PointLight(0xfffff, 0.5);
	scene.add(lightTwo);

	var objLoader = new THREE.OBJLoader();
	objLoader.load("Boat.obj", function(mesh){
		mesh.traverse(function(node){
			if(node instanceof THREE.Mesh){
				node.castShadow = true;
				node.receiveShadow = true;
			}
		});
		scene.add(mesh);
		mesh.position.set(-80, -50, -150);
		mesh.rotation.y = -Math.PI/4;
	});
    
    
    controls = new THREE.OrbitControls(camera,renderer.domElement);
}

function animate()
{
    controls.update();
    requestAnimationFrame(animate);
    renderer.render(scene, camera);
}


	

	requestAnimationFrame(render);

	function render(){

		renderer.render(scene, camera);
		requestAnimationFrame(render);
	}

	function animate()
{
    controls.update();
    requestAnimationFrame(animate);
    renderer.render(scene, camera);
}
	
	</script>
</body>
</html>